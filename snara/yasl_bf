#!yasl
//in: [script: str]
! !

// [[#], i_str, str, ptr, arr[1000]]
[#]
0 2 !^
4 4 !^
10 #(0 # !^)

{
  "\0         \n                      !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ "
  2 ^ ]#[
} i_to_c
{ "A" - 65 + } c_to_i

{4 ^ } get_ptr
{4 !^} set_ptr
{get_ptr %^  2 ^ } get_arr
{2 !^ %!^ set_ptr} set_arr

%? #(
// [0:str[i], 1:i, 2:str, 3:ptr, 4...:arr[1000]]
  %]#[
//print_stack
  = ">" == ? (get_ptr (1 +) set_ptr) 
  = "<" == ? (get_ptr (1 -) set_ptr) 
  = "+" == ? (get_arr (1 +) set_arr) 
  = "-" == ? (get_arr (1 -) set_arr) 
  = "." == ? (get_arr (= i_to_c print)  set_arr) 
//print_stack "\n" print
! 1 + )
